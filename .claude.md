# Seerr Snap Project

Unofficial snap package for Seerr - a media request and discovery manager for Jellyfin, Plex, and Emby.

## Project Type

- Snap packaging repository
- Not affiliated with upstream Seerr project
- Automated release tracking via GitHub Actions

## Architecture

- Base: Ubuntu Core 24
- Runtime: Node.js 22
- Package manager: pnpm 9.x
- Confinement: strict
- Daemon service with auto-restart

## Key Files

- `snap/snapcraft.yaml` - Snap build configuration
- `README.md` - Installation and usage instructions
- `WORKFLOW.md` - Automated release workflow documentation
- `.github/workflows/` - GitHub Actions for release automation

## Build Process

1. Clone upstream Seerr from GitHub at tagged version
2. Install dependencies with pnpm (skip Cypress, Husky)
3. Remove PostgreSQL driver (uses SQLite only)
4. Build Next.js application
5. Prune to production dependencies
6. Aggressive cleanup of node_modules (docs, tests, maps, binaries)
7. Package runtime files: dist, .next, public, node_modules

## Runtime Behavior

- Runs as daemon on port 5055
- Root privileges required
- Config path: `/var/snap/geebeevv-seerr/common/config/`
- 30-second graceful shutdown timeout
- Restart on snap refresh

## Snap Interfaces

- `network` - API calls to Plex/Emby/Sonarr/Radarr
- `network-bind` - Web server on port 5055

No filesystem access beyond snap directories.

## Release Workflow

1. GitHub Actions monitors upstream releases
2. Auto-updates `beta` branch on new version
3. Triggers Snapcraft build
4. Creates PR with release notes and test checklist
5. Manual testing and approval required
6. Merge promotes to stable channel

## Known Limitations

- Unofficial package - no upstream support
- Requires root for daemon operation
- Cannot access host filesystem directly
- API-only communication with media servers

## CLI Usage

No CLI options. Control via snap commands:

```bash
sudo snap start geebeevv-seerr
sudo snap stop geebeevv-seerr
sudo snap restart geebeevv-seerr
```

## Language & Style

- Technical and straightforward
- Concise descriptions
- No marketing language or selling points
- Direct, practical information only
- Short sentences and bullet points preferred

## When Making Changes

- Keep documentation minimal and factual
- Use inline comments in code blocks rather than verbose explanations
- Focus on "what" and "how", not "why you should"
- List issues and limitations upfront
- Avoid superlatives and excessive praise
